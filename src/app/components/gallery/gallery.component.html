<fs-gallery-header
  class="gallery-header"
  [allowedFiles]="config.allowedFiles"
  [filterConfig]="config.filterConfig"
  [zoom]="config.zoom"
  [upload]="config.upload"
  *ngIf="config.toolbar!==false">
</fs-gallery-header>

<!-- Groups mode -->
<ng-container *ngIf="config.groupsMode; else notGroupsMode">
  <fs-gallery-group *ngFor="let group of data$ | async"
                    [group]="group">
  </fs-gallery-group>
</ng-container>


<!-- Simple gallery mode -->
<ng-template #notGroupsMode>
  <div
    *ngIf="reorderEnabled"
    [class]="'fs-gallery-thumbnails zoom-size-' + galleryService.imageZoomInteger + ' layout-' + galleryService.config.layout"
    [dragula]="galleryService.dragName"
    [dragulaModel]="data$ | async"
    (dragulaModelChange)="orderChange($event, true)">
    <ng-container *ngTemplateOutlet="thumbnailsTemplate"></ng-container>
  </div>

  <div
    *ngIf="!reorderEnabled"
    [class]="'fs-gallery-thumbnails zoom-size-' + galleryService.imageZoomInteger + ' layout-' + galleryService.config.layout">
    <ng-container *ngTemplateOutlet="thumbnailsTemplate"></ng-container>
  </div>

  <ng-template #thumbnailsTemplate>
    <fs-gallery-thumbnail
      *ngFor="let item of data$ | async"
      #fsGalleryThumbnail
      [data]="item">
    </fs-gallery-thumbnail>
  </ng-template>
</ng-template>
